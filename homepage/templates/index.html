{% extends 'Navbar.html' %}

{% load static %}

<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Index Page</title>
    <head>
        <link href="{% static '/css/index_style1.css' %}" rel="stylesheet">
    </head>
</head>
<body>
{% block content %}
    <style>
        .weather-style-css {
            width: 400px;
            height: 100px;
            border-top-right-radius: 15px;
            border-bottom-left-radius: 15px;
            background-color: rgba(255, 255, 255, 0.13);
            display: flex;
            flex-direction: row;
            color: #eeeeee;
            padding: 10px;
            justify-content: space-evenly;
            margin-top: 10px;
        }
    </style>
    <script>
        {# 0aa588bd8889daf2db559988cb3781c8 #}

        function ChennaiWeather(string) {
            var cityName, temperature, icon
            var xhttp = new XMLHttpRequest();
            xhttp.onreadystatechange = function () {
                if (this.readyState == 4 && this.status == 200) {
                    const responseText = this.responseText
                    parser = new DOMParser();
                    xmlDoc = parser.parseFromString(responseText, "text/xml");
                    cityName = xmlDoc.getElementsByTagName("name")[0].childNodes[0].nodeValue
                    temperature = xmlDoc.getElementsByTagName("temp_c")[0].childNodes[0].nodeValue
                    icon = xmlDoc.getElementsByTagName("icon")[0].childNodes[0].nodeValue
                    document.getElementById("ChennaiIcon").src = icon;
                    document.getElementById("ChennaiTemp").innerText = temperature + "ºC";
                    document.getElementById("ChennaiName").innerText = cityName;

                }
            };
            xhttp.open("GET", "http://api.weatherapi.com/v1/current.xml?key=946f040cb3aa4c0f93b105344200611&q=" + string, true);
            xhttp.send();

        }
        function KolkataWeather(string) {
            var cityName, temperature, icon
            var xhttp = new XMLHttpRequest();
            xhttp.onreadystatechange = function () {
                if (this.readyState == 4 && this.status == 200) {
                    const responseText = this.responseText
                    parser = new DOMParser();
                    xmlDoc = parser.parseFromString(responseText, "text/xml");
                    cityName = xmlDoc.getElementsByTagName("name")[0].childNodes[0].nodeValue
                    temperature = xmlDoc.getElementsByTagName("temp_c")[0].childNodes[0].nodeValue
                    icon = xmlDoc.getElementsByTagName("icon")[0].childNodes[0].nodeValue
                    document.getElementById("KolkataIcon").src = icon;
                    document.getElementById("KolkataTemp").innerText = temperature + "ºC";
                    document.getElementById("KolkataName").innerText = cityName;

                }
            };
            xhttp.open("GET", "http://api.weatherapi.com/v1/current.xml?key=946f040cb3aa4c0f93b105344200611&q=" + string, true);
            xhttp.send();

        }

        function MumbaiWeather(string) {
            var cityName, temperature, icon
            var xhttp = new XMLHttpRequest();
            xhttp.onreadystatechange = function () {
                if (this.readyState == 4 && this.status == 200) {
                    const responseText = this.responseText
                    parser = new DOMParser();
                    xmlDoc = parser.parseFromString(responseText, "text/xml");
                    cityName = xmlDoc.getElementsByTagName("name")[0].childNodes[0].nodeValue
                    temperature = xmlDoc.getElementsByTagName("temp_c")[0].childNodes[0].nodeValue
                    icon = xmlDoc.getElementsByTagName("icon")[0].childNodes[0].nodeValue
                    document.getElementById("MumbaiIcon").src = icon;
                    document.getElementById("MumbaiTemp").innerText = temperature + "ºC";
                    document.getElementById("MumbaiName").innerText = cityName;

                }
            };
            xhttp.open("GET", "http://api.weatherapi.com/v1/current.xml?key=946f040cb3aa4c0f93b105344200611&q=" + string, true);
            xhttp.send();

        }

        MumbaiWeather("Mumbai")
        ChennaiWeather("Chennai")
        KolkataWeather("Kolkata")
    </script>
    <audio controls autoplay hidden>
        <source src="{% static '/assets/2020-07-30_-_Conspiracy_Theory_-_David_Fesliyan.mp3' %}" type="audio/ogg">

    </audio>
    <!-- TradingView Widget BEGIN -->
    <div class="tradingview-widget-container">
        <div class="tradingview-widget-container__widget"></div>
        <div class="tradingview-widget-copyright"><a href="https://in.tradingview.com" rel="noopener"
                                                     target="_blank"><span
                class="blue-text"></span></a></div>
        <script type="text/javascript" src="https://s3.tradingview.com/external-embedding/embed-widget-tickers.js"
                async>
            {
                "symbols"
            :
                [
                    {
                        "proName": "FOREXCOM:SPXUSD",
                        "title": "S&P 500"
                    },
                    {
                        "proName": "FOREXCOM:NSXUSD",
                        "title": "Nasdaq 100"
                    },
                    {
                        "proName": "FX_IDC:EURUSD",
                        "title": "EUR/USD"
                    },
                    {
                        "proName": "BITSTAMP:BTCUSD",
                        "title": "BTC/USD"
                    },
                    {
                        "proName": "BITSTAMP:ETHUSD",
                        "title": "ETH/USD"
                    }
                ],
                    "colorTheme"
            :
                "dark",
                    "isTransparent"
            :
                false,
                    "locale"
            :
                "in"
            }
        </script>
    </div>
    <!-- TradingView Widget END -->

    {# Grid layout start from here #}
    <div class="homepage-grid-container">
        {# grid main #}
        <main id="homepage-grid-main1">
            <iframe src="https://ourworldindata.org/coronavirus-data-explorer?tab=map&zoomToSelection=true&country=~OWID_WRL&region=World&casesMetric=true&interval=total&hideControls=true&smoothing=0&pickerMetric=location&pickerSort=asc"
                    loading="lazy" style="width: 500px; height: 400px;"></iframe>

        </main>
        <main id="homepage-grid-main2">
            <br>
            <!-- weather widget start -->
            <div class="weather-style-css">
                <img id="MumbaiIcon" src="" alt="">
                <h4 style="font-family: Lato,serif;font-size: 30px;margin: 20px 0px;" id="MumbaiName"></h4>

                <h3 style="font-family: Lato,serif;font-size: 30px;margin: 20px 0px;" id="MumbaiTemp"></h3>
            </div>
            <div class="weather-style-css">
                <img id="ChennaiIcon" src="" alt="">
                <h4 style="font-family: Lato,serif;font-size: 30px;margin: 20px 0px;" id="ChennaiName"></h4>

                <h3 style="font-family: Lato,serif;font-size: 30px;margin: 20px 0px;" id="ChennaiTemp"></h3>
            </div>
              <div class="weather-style-css">
                <img id="KolkataIcon" src="" alt="">
                <h4 style="font-family: Lato,serif;font-size: 30px;margin: 20px 0px;" id="KolkataName"></h4>

                <h3 style="font-family: Lato,serif;font-size: 30px;margin: 20px 0px;" id="KolkataTemp"></h3>
            </div>
            {#            <a style="margin: 10px;" target="blank"#}
            {#               href="https://www.booked.net/weather/mumbai-26831"><img#}
            {#                    src="https://w.bookcdn.com/weather/picture/32_26831_1_1_e74c3c_250_c0392b_ffffff_ffffff_1_2071c9_ffffff_0_6.png?scode=124&domid=w209&anc_id=39781"#}
            {#                    alt="booked.net"/></a>#}
            <!-- weather widget end -->
            <!-- weather widget start -->
            {#            <a style="margin: 10px;" target="_blank"#}
            {#               href="https://www.booked.net/weather/chennai-18036"><img#}
            {#                    src="https://w.bookcdn.com/weather/picture/32_18036_1_1_e74c3c_250_c0392b_ffffff_ffffff_1_2071c9_ffffff_0_6.png?scode=124&domid=w209&anc_id=39781"#}
            {#                    alt="booked.net"/></a><!-- weather widget end -->#}
            {#            <br>#}
            {#            <!-- weather widget start --><a style="margin: 10px;" target="_blank"#}
            {#                                            href="https://www.booked.net/weather/kolkata-26871"><img#}
            {#                src="https://w.bookcdn.com/weather/picture/32_26871_1_1_e74c3c_250_c0392b_ffffff_ffffff_1_2071c9_ffffff_0_6.png?scode=124&domid=w209&anc_id=39781"#}
            {#                alt="booked.net"/></a><!-- weather widget end -->#}
            {#            <!-- weather widget start --><a style="margin: 10px;" target="_blank"#}
            {#                                            href="https://www.booked.net/weather/new-delhi-18038"><img#}
            {#                src="https://w.bookcdn.com/weather/picture/32_18038_1_1_e74c3c_250_c0392b_ffffff_ffffff_1_2071c9_ffffff_0_6.png?scode=124&domid=w209&anc_id=39781"#}
            {#                alt="booked.net"/></a><!-- weather widget end -->#}

        </main>
        {# The Below is The Top Stories Scrollabel#}
        <div id="homepage-scroll">
            <div class="table-box-for-scrollable">
                <label class="table-box-for-scrollable-text-main">Top Stories</label>
                <div class="box-for-scrollable">

                    <table>
                        <tr>
                            {% for top_story in top_stories %}
                                <a style="text-decoration: none;"
                                   href="{% url 'article' top_story.category top_story.section top_story.news_unique_id %}"
                                   id="myBtn" class="row-for-each-story">
                        <span class="image-position-each-row">
                            {% if top_story.image == '' %}
                                <img class="image-for-row" src="{{ top_story.image_link }}" alt="">
                            {% else %}
                                <img class="image-for-row" src="{{ top_story.image }}" alt="">
                            {% endif %}
                        </span>
                                    <span class="news-post-text-for-top-stories">{{ top_story.title }}</span>
                                </a>


                            {% endfor %}
                        </tr>
                    </table>
                    <div id="bottom"></div>
                </div>
            </div>
        </div>

        {# The Above is The Top Stories Scrollabel#}

        {# content 2 #}

        <div id="homepage-content1">

            {% for latest_story in latest_stories %}
                {% if latest_story.section == 'latest-cell-2' %}
                    <a href="{% url 'article' latest_story.category latest_story.section latest_story.news_unique_id %}"
                       style="text-decoration: none;">
                        {% if latest_story.image != '' %}

                            <img class="homepage-image-css"

                                 src="{{ latest_story.image }}"
                                 alt="">
                        {% else %}
                            <img class="homepage-image-css"

                                 src="{{ latest_story.image_link }}"
                                 alt="">
                        {% endif %}
                        <p style="font-family: 'Lato',serif;
             " class="homepage-p-tag-css">
                            {{ latest_story.title }}</p>
                    </a>

                {% endif %}

            {% endfor %}
        </div>


        <div id="homepage-content2">

            <iframe src="https://bwidget.crictimes.org/" style="width:100%;min-height: 250px;;
                                                        background-color: #222222 !important;

                                                        " frameborder="0" scrolling="yes"></iframe>

        </div>
        {# content 3 end#}


        {# grid main #}
        <div id="homepage-second-grid-main1" id="grid">
            {% for latest_story in latest_stories %}
                {% if latest_story.section == 'latest-cell-3' %}
                    <a href="{% url 'article' latest_story.category latest_story.section latest_story.news_unique_id %}"
                       style="text-decoration: none;">
                        {% if latest_story.image != '' %}

                            <img class="homepage-image-css"

                                 src="{{ latest_story.image }}"
                                 alt="">
                        {% else %}
                            <img class="homepage-image-css"

                                 src="{{ latest_story.image_link }}"
                                 alt="">
                        {% endif %}
                        <p style="font-family: 'Lato',serif;
             " class="homepage-p-tag-css">
                            {{ latest_story.title }}</p>
                    </a>

                {% endif %}

            {% endfor %}
        </div>
        <div id="homepage-second-grid-main2">
            {% for latest_story in latest_stories %}
                {% if latest_story.section == 'latest-cell-4' %}
                    <a href="{% url 'article' latest_story.category latest_story.section latest_story.news_unique_id %}"
                       style="text-decoration: none;">
                        {% if latest_story.image != '' %}

                            <img class="homepage-image-css"

                                 src="{{ latest_story.image }}"
                                 alt="">
                        {% else %}
                            <img class="homepage-image-css"

                                 src="{{ latest_story.image_link }}"
                                 alt="">
                        {% endif %}
                        <p style="font-family: 'Lato',serif;
             " class="homepage-p-tag-css">
                            {{ latest_story.title }}</p>
                    </a>

                {% endif %}

            {% endfor %}

        </div>
        <div id="homepage-second-grid-main3">

            <div class="card1">
                {% for latest_story in latest_stories %}
                    {% if latest_story.section == 'latest-cell-5' %}
                        <a href="{% url 'article' latest_story.category latest_story.section latest_story.news_unique_id %}"
                           style="text-decoration: none;">
                            <div class="con">

                                <p style="text-decoration: none;color: #eeeeee;">{{ latest_story.title }}</p>
                            </div>


                        </a>

                    {% endif %}

                {% endfor %}


            </div>

            <div class="card1">
                {% for latest_story in latest_stories %}
                    {% if latest_story.section == 'latest-cell-6' %}
                        <a href="{% url 'article' latest_story.category latest_story.section latest_story.news_unique_id %}"
                           style="text-decoration: none;">
                            <div class="con">

                                <p style="text-decoration: none;color: #eeeeee;">{{ latest_story.title }}</p>
                            </div>


                        </a>

                    {% endif %}

                {% endfor %}
            </div>
        </div>


        {# content 1 #}
        <div id="second-content1">

            {% for latest_story in latest_stories %}
                {% if latest_story.section == 'latest-cell-7' %}
                    <a href="{% url 'article' latest_story.category latest_story.section latest_story.news_unique_id %}"
                       style="text-decoration: none;">
                        {% if latest_story.image != '' %}

                            <img class="homepage-image-css"

                                 src="{{ latest_story.image }}"
                                 alt="">
                        {% else %}
                            <img class="homepage-image-css"

                                 src="{{ latest_story.image_link }}"
                                 alt="">
                        {% endif %}
                        <p style="font-family: 'Lato',serif;
             " class="homepage-p-tag-css">
                            {{ latest_story.title }}</p>
                    </a>

                {% endif %}

            {% endfor %}

        </div>
        {# content one end #}
        <div id="second-content2">
            {% for latest_story in latest_stories %}
                {% if latest_story.section == 'latest-cell-8' %}
                    <a href="{% url 'article' latest_story.category latest_story.section latest_story.news_unique_id %}"
                       style="text-decoration: none;">
                        {% if latest_story.image != '' %}

                            <img class="homepage-image-css"

                                 src="{{ latest_story.image }}"
                                 alt="">
                        {% else %}
                            <img class="homepage-image-css"

                                 src="{{ latest_story.image_link }}"
                                 alt="">
                        {% endif %}
                        <p style="font-family: 'Lato',serif;
             " class="homepage-p-tag-css">
                            {{ latest_story.title }}</p>
                    </a>

                {% endif %}

            {% endfor %}

        </div>
        {# content 2 end #}
        {# content 3 end#}
        <div id="second-content3">
            <div class="card1">
                {% for latest_story in latest_stories %}
                    {% if latest_story.section == 'latest-cell-9' %}
                        <a href="{% url 'article' latest_story.category latest_story.section latest_story.news_unique_id %}"
                           style="text-decoration: none;">
                            <div class="con">

                                <p style="text-decoration: none;color: #eeeeee;">{{ latest_story.title }}</p>
                            </div>


                        </a>

                    {% endif %}

                {% endfor %}

            </div>

            <div class="card1">
                {% for latest_story in latest_stories %}
                    {% if latest_story.section == 'latest-cell-10' %}
                        <a href="{% url 'article' latest_story.category latest_story.section latest_story.news_unique_id %}"
                           style="text-decoration: none;">
                            <div class="con">

                                <p style="text-decoration: none;color: #eeeeee;">{{ latest_story.title }}</p>
                            </div>


                        </a>

                    {% endif %}

                {% endfor %}
            </div>
            <div class="card1">
                {% for latest_story in latest_stories %}
                    {% if latest_story.section == 'latest-cell-11' %}
                        <a href="{% url 'article' latest_story.category latest_story.section latest_story.news_unique_id %}"
                           style="text-decoration: none;">
                            <div class="con">

                                <p style="text-decoration: none;color: #eeeeee;">{{ latest_story.title }}</p>
                            </div>


                        </a>

                    {% endif %}

                {% endfor %}
            </div>
        </div>

        <!--    <div>-->
        <!--            <div class="bingwidget" data-type="covid19" data-market="en-us" data-language="en-us"></div>-->

        <!--<script src="//www.bing.com/widget/bootstrap.answer.js" async=""></script>-->
        <!--        </div>-->
        {% include 'footer.html' %}
    </div>
    </body>






{% endblock %}


</body>
</html>